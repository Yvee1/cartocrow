# Example website with C++ back-end

This repository gives a C++ back-end for geographical visualization algorithms and a website to show the generated geographical map data.
The back-end is contained in the `./src/` subdirectory. The front-end is contained in the `./wwwroot/` subdirectory.
Both of these subdirectories contain a more specific README.md file describing some particularities and a LICENSE file with the license that applies to that part.

This directory contains several linux bash scripts to simplify building and using the package. These are meant to be called from the current (root) directory.
* `clean.sh` removes the things generated by the other scripts.
* `convert_favicon.sh` converts the image `./wwwroot/res/b166_16-512.png` into the webpage icon.
* `document.sh` generates DoxyGen documentation based on the comments in the back-end source code.
* `make.sh` compiles the back-end applications and installs the source code into their desired subdirectories of `./wwwroot/`.
* `rebuild_all.sh` runs all the above scripts to regenerate the back-end.
* `serve.sh [port#]` starts serving the website on localhost. By default port 8000 is used.

To generate and start serving the site (note that these scripts expect to be called from the current directory):

```sh
./rebuild_all.sh
./serve.sh
```

The code depends on several packages that may need to be installed before it can compile successfully (later versions may be backwards-compatible):
* CMake (3.10.2-1ubuntu2.18.04.1)
* ImageMagick convert (8:6.9.7.4+dfsg-16ubuntu6.9)
* CGAL (4.11-2build1)
* DoxyGen (1.8.13-10)
* gflags (2.2.1-1)
* glog (0.3.5-1)
* latex (2017.20180305-1)
* php (7.2.24-0ubuntu0.18.04.7)
* tinyxml2 (6.0.0+dfsg-1)
* unittest-cpp (v2.0.0)

On Ubuntu, most can be installed by running:

```sh
sudo apt install build-essential cmake libcgal-dev doxygen libgoogle-glog-dev libgflags-dev imagemagick-6.q16 texlive-xetex php7.2-cli libtinyxml2-dev
```

unittest-cpp requires manually cloning, building, and installation (see https://github.com/unittest-cpp/unittest-cpp):
```sh
git clone -b v2.0.0 https://github.com/unittest-cpp/unittest-cpp
cd unittest-cpp/builds/
cmake -DUTPP_INCLUDE_TESTS_IN_BUILD=OFF ../
make && sudo make install
```
Note that unittest-cpp defines several macros that overlap with google logging macros. This mainly comes into play when also compiling the unit tests of unittest-cpp.

To run unit tests (from the current directory):

```sh
./test.sh
```

